<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>心跳</title>
	<script type="text/javascript" src="../sea.js"></script>
	<script type="text/javascript" src="dest/trajectory.js"></script>
	</head>
	
	<body>
		
	</body>
	<script type="text/javascript">
		seajs.use(["trajectory/line","trajectory/util/cpi","trajectory/util/looper","trajectory/util/random"],
			function(Line,cpi,looper,random){
				var canvas = cpi.createCanvasFullScreen(),
					ctx = canvas.getContext("2d"),
					cx=canvas.width/2,cy=canvas.height/2,
					line = new Line({vel:3});
				
				window.line = line;
				line.addAtom({x:0,y:0,radius:3,dest:{x:cx,y:cy}});
				
				function render(){
					ctx.clearRect(0,0,canvas.width,canvas.height);
					line.renderTo(canvas);
					console.log(line.atoms[0]);
				}
				function move(){
					line.next();	
				}

				looper.add(render);
				looper.add(move);
				looper.run();
		});
	</script>
</html>